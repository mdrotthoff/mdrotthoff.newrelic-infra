---
#newrelic_infra_config_license_key: YOUR_LICENSE_KEY
newrelic_infra_state: present
newrelic_infra_package: newrelic-infra
newrelic_infra_service_name: newrelic-infra
newrelic_infra_service_enabled: true
newrelic_infra_service_state: started

# Basic New Relic configuration
newrelic_infra_config_file: /etc/newrelic-infra.yml
newrelic_infra_config_display_name: "{{ display_name | default('Unknown') }}"
newrelic_infra_config_event_queue_depth: 5000
newrelic_infra_config_log_path: /var/log/newrelic-infra
newrelic_infra_config_log_file: nr-infra.log
newrelic_infra_config_log_to_stdout: False

## Network interfaces to be ignored by the New Relic Infrastructure server
#newrelic_infra_config_net_iface_filter:
#  - lo

# Details required to create a Yum configuration for the New Relic repository
newrelic_infra_repo_baseurl: https://download.newrelic.com/infrastructure_agent/linux/yum/el/7/x86_64
newrelic_infra_repo_gpgkey: https://download.newrelic.com/infrastructure_agent/gpg/newrelic-infra.gpg
newrelic_infra_repo_gpgcheck: True
newrelic_infra_repo_repo_gpgcheck: True
#newrelic_infra_repo_proxy: "<Proxy server to use for the Yum repository>"

## Custom attributes to be added to the New Relic configuration file
#newrelic_infra_custom_config:
#  application: New Relic Plugins
#  data_center: Laptop VM
#  environment: Individual
#  machine_type: Virtual Machine
#  team: David Rotthoff
#  friendly_name: "{{ friendly_name | default('Unknown') }}"
#  physical_name: "{{ physical_name | default('Unknown') }}"

# New Relic Infrastructure plugins to install
#newrelic_infra_plugins:
#  - nri-elasticsearch
#  - nri-nagios
#  - nri-oracledb



# New Relic Oracle DB plugin configuration
nri_oracledb_package: nri-oracledb
nri_oracledb_config_path: /etc/newrelic-infra/integrations.d
nri_oracledb_config_file: "{{ nri_nagios_config_path }}/oracledb-config.yml"
nri_oracledb_config: []


## New Relic Elastic Search plugin configuration
nri_elasticsearch_package: nri-elasticsearch
nri_elasticsearch_config_file: /etc/newrelic-infra/integrations.d/elasticsearch-config.yml
#nri_elasticsearch_config:
#  - name: va-sdc-cluster
#    command: all
#    arguments:
#      cluster_environment: PROD
#      config_path: "/etc/elasticsearch/es-01/elasticsearch.yml"
#      hostname: va-elasticsearch.production.sdc.vauto.int
#      local_hostname: va-elasticsearch.production.sdc.vauto.int
#      port: 9200
#      timeout: 30
#      use_ssl: false
#      collect_indices: true
#      collect_primaries: true
#    labels:
#      cluster_name: va-sdc-cluster
#      application: Elasticsearch
#      component: VA
#      data_center: SDC
#      environment: Production
#      environment_state: Active
#      team: DBA
#

# New Relic Nagios plugin configuration
nri_nagios_package: nri-nagios
nri_nagios_config_path: /etc/newrelic-infra/integrations.d
nri_nagios_supplemental_packages:
  - nagios-plugins-ping
  - nagios-plugins-tcp
  - nagios-plugins-oracle
nri_nagios_config_file: "{{ nri_nagios_config_path }}/nagios-config.yml"
nri_nagios_check_ping_cmd: /usr/lib64/nagios/plugins/check_ping
nri_nagios_check_tcp_cmd: /usr/lib64/nagios/plugins/check_tcp
#nri_nagios_config:
#  - name: nagios-oracle-db-ping
#    command: metrics
#    service_checks_config: "{{ nri_nagios_config_path }}/nagios-oracle-db-ping.yml"
#    service_checks_labels:
#       environment: PROD
#       data_center: SDC
#       application: Oracle
#       source_host: "{{ ansible_fqdn }}"
#       check_type: PING
#       team: DBA
#    service_checks:
#      - name: pdb2032_ping
#        command: ["{{ nri_nagios_check_ping_cmd }}", "-t", "5", "-H", "pdb2032.vauto.int", "-w", "10,2%", "-c", "20,5%"]
#        parse_output: true
#        labels:
#          hostname: pdb2032
#          target_host: pdb2032.vauto.int
#          target_type: Host IP
#      - name: pdb2034_ping
#        command: ["{{ nri_nagios_check_ping_cmd }}", "-t", "5", "-H", "pdb2034.vauto.int", "-w", "10,2%", "-c", "20,5%"]
#        parse_output: true
#        labels:
#          hostname: pdb2034
#          target_host: pdb2034.vauto.int
#          target_type: Host IP
#  - name: nagios-oracle-db-port-1521
#    command: metrics
#    service_checks_config: "{{ nri_nagios_config_path }}/nagios-oracle-db-port-1521.yml"
#    service_checks_labels:
#       environment: PROD
#       data_center: SDC
#       application: Oracle
#       source_host: "{{ ansible_fqdn }}"
#       check_type: PORT
#       check_port: 1521
#       team: DBA
#    service_checks:
#      - name: pdb2032_port_1521
#        command: ["{{ nri_nagios_check_tcp_cmd }}", "-t", "5", "-H", "pdb2032.vauto.int", "-p", "1521"]
#        parse_output: true
#        labels:
#          hostname: pdb2032
#          target_host: pdb2032.vauto.int
#          target_type: Host IP
#      - name: pdb2034_port_1521
#        command: ["{{ nri_nagios_check_tcp_cmd }}", "-t", "5", "-H", "pdb2034.vauto.int", "-p", "1521"]
#        parse_output: true
#        labels:
#          hostname: pdb2034
#          target_host: pdb2034.vauto.int
#          target_type: Host IP
